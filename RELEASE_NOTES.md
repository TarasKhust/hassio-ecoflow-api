# üêõ EcoFlow API Integration v1.1.1 - Critical Bug Fix

–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏ –∑ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤!

## üîß –©–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ö—Ä–∏—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å—É API

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é (—á–µ—Ä–µ–∑ number, switch, select) –∑'—è–≤–ª—è–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞:
```
Failed to perform the action number/set_value. 
API error (code 8521): signature is wrong
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** PUT –∑–∞–ø–∏—Ç–∏ –∑ JSON body —Ç–µ–ø–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≥–µ–Ω–µ—Ä—É—é—Ç—å –ø—ñ–¥–ø–∏—Å —Ç—ñ–ª—å–∫–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (accessKey, nonce, timestamp), –±–µ–∑ –≤–∫–ª—é—á–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É JSON body. –¶–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∏–º–æ–≥–∞–º EcoFlow Developer API.

**–í–ø–ª–∏–≤:** –¢–µ–ø–µ—Ä –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –ß–∏—Å–ª–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è (AC charging power, charge levels, —Ç–æ—â–æ)
- ‚úÖ –ü–µ—Ä–µ–º–∏–∫–∞—á—ñ (AC/DC output, X-Boost, —Ç–æ—â–æ)
- ‚úÖ –°–ø–∏—Å–∫–∏ –≤–∏–±–æ—Ä—É (standby times, —Ç–æ—â–æ)

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ HACS

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **HACS** ‚Üí **Integrations**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **EcoFlow API** 
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Update** (–≤–µ—Ä—Å—ñ—è 1.1.1)
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant**

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—Ä—É—á–Ω—É

–Ø–∫—â–æ –≤–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –≤—Ä—É—á–Ω—É:

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞—Ä—Ö—ñ–≤: [ecoflow-api-v1.1.1.zip](https://github.com/TarasKhust/hassio-ecoflow-api/releases/download/v1.1.1/ecoflow-api-v1.1.1.zip)
2. –ó–∞–º—ñ–Ω—ñ—Ç—å —Ñ–∞–π–ª–∏ –≤ `config/custom_components/ecoflow_api/`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant

## üìù –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

–ó–≥—ñ–¥–Ω–æ –∑ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é EcoFlow Developer API](https://developer-eu.ecoflow.com/us/document/introduction), –ø—ñ–¥–ø–∏—Å –¥–ª—è PUT –∑–∞–ø–∏—Ç—ñ–≤ –º–∞—î –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:

- **GET –∑–∞–ø–∏—Ç–∏**: `params + accessKey + nonce + timestamp` ‚Üí signature
- **POST/PUT –∑–∞–ø–∏—Ç–∏**: `accessKey + nonce + timestamp` ‚Üí signature (JSON body –ù–ï –≤–∫–ª—é—á–∞—î—Ç—å—Å—è)

–ü–æ–ø–µ—Ä–µ–¥–Ω—è –≤–µ—Ä—Å—ñ—è –ø–æ–º–∏–ª–∫–æ–≤–æ –≤–∫–ª—é—á–∞–ª–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑ JSON body –≤ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –ø—ñ–¥–ø–∏—Å—É –¥–ª—è PUT –∑–∞–ø–∏—Ç—ñ–≤, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ –ø–æ–º–∏–ª–∫–∏ 8521.

## üêõ –ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –ø—Ä–æ –ø–æ–º–∏–ª–∫—É

–ó–Ω–∞–π—à–ª–∏ –±–∞–≥? [–°—Ç–≤–æ—Ä—ñ—Ç—å issue](https://github.com/TarasKhust/hassio-ecoflow-api/issues/new)

---

Made with ‚ù§Ô∏è in Ukraine üá∫üá¶
